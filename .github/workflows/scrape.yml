name: LekariBG Grind ğŸ”¥

on:
  workflow_dispatch: # ĞŸĞ¾Ğ·Ğ²Ğ¾Ğ»ÑĞ²Ğ° Ñ‚Ğ¸ Ğ´Ğ° Ğ³Ğ¾ Ğ¿ÑƒÑĞ½ĞµÑˆ Ñ€ÑŠÑ‡Ğ½Ğ¾ Ñ ĞºĞ¾Ğ¿Ñ‡Ğµ
  schedule:
    - cron: '0 6 * * 1' # Ğ˜Ğ»Ğ¸ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğ¾ Ğ²ÑĞµĞºĞ¸ Ğ¿Ğ¾Ğ½ĞµĞ´ĞµĞ»Ğ½Ğ¸Ğº ÑÑƒÑ‚Ñ€Ğ¸Ğ½ (optional)

jobs:
  scrape-and-save:
    runs-on: ubuntu-latest

    steps:
      - name: ğŸ“¥ Checkout repository
        uses: actions/checkout@v3

      - name: ğŸ Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.9'

      - name: ğŸ“¦ Install dependencies
        run: |
          python -m pip install --upgrade pip
          pip install -r requirements.txt

      - name: ğŸš€ Run Scraper
        run: python scraper.py

      - name: ğŸ“¤ Upload Excel Artifact
        uses: actions/upload-artifact@v4
        with:
          name: lekaribg-data
          path: data/lekaribg_data.xlsx
          retention-days: 5
