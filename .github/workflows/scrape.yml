name: LekariBG Grind ğŸ”¥

on:
  workflow_dispatch:
  schedule:
    - cron: '0 6 * * 1'

jobs:
  scrape-and-save:
    runs-on: ubuntu-latest

    steps:
      - name: ğŸ“¥ Checkout repository
        uses: actions/checkout@v3

      - name: ğŸ Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.9'

      - name: ğŸ“¦ Install dependencies
        run: |
          python -m pip install --upgrade pip
          pip install -r requirements.txt

      - name: ğŸš€ Run Scraper
        run: python scraper.py

      - name: ğŸ“¤ Upload Excel Artifact
        if: always()  # ğŸ‘ˆ Ğ¢ĞĞ’Ğ Ğ• Ğ’ĞĞ–ĞĞĞ¢Ğ, Ğ“ĞĞ©ĞĞ˜Ğš!
        uses: actions/upload-artifact@v4
        with:
          name: lekaribg-data
          path: data/lekaribg_data_v2.xlsx  # Ğ¢Ñ€ÑĞ±Ğ²Ğ° Ğ´Ğ° ÑÑŠĞ²Ğ¿Ğ°Ğ´Ğ° Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ Ñ python ÑĞºÑ€Ğ¸Ğ¿Ñ‚Ğ°
          retention-days: 5
